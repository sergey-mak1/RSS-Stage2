(()=>{"use strict";const e=[{tagName:"div",class:'class="earth"'},{tagName:"server",class:'class="protected"'},{tagName:"user",id:'id = "pc"'},{id:'id="mobile"'},{id:'id="hacker"'},{class:'class = "hacked"'}],t=["&lt;","&gt;","&#47;","&nbsp;&nbsp;&nbsp;&nbsp;","&nbsp;"],s=["<div>","</div>","<br>"],a=t[0]+e[0].tagName+t[4]+e[0].class+t[1],l=t[0]+t[2]+e[0].tagName+t[1],i=t[3]+t[0]+e[1].tagName,r=t[2]+t[1],n=t[4]+e[1].class,c=t[4]+e[5].class,o=t[3]+t[3]+t[0]+e[2].tagName,d=t[4]+e[3].id,h=t[4]+e[2].id,v=t[4]+e[4].id,p=[{nameLevel:"A",title:"Select the Servers",selector:"server",tableCode:'<server class="active" data-hint = "<server/>"></server><server class="active"  data-hint = "<server/>"</server>',levelDescription:["Level 1 of 10","Type Selector","Select elements by their type","Selects all elements of type <span>A</span>. Type refers to the type of tag, so <span>div</span>, <span>p</span> and <span>ul</span> are all different element types.","<span>div</span> selects all <span>div</span> elements.","<span>p</span> selects all <span>p</span> elements."],htmlCode:a+s[0]+i+r+s[1]+s[0]+i+r+s[1]+l},{nameLevel:".classname",title:"Select the protected server",selector:".protected",levelDescription:["Level 2 of 10","Class Selector","Select elements by their class","The class selector selects all elements with that class attribute. Elements can only have one ID, but many classes.",'<span>.neato</span> selects all elements with <span>class="neato"</span>',""],tableCode:'<server class="protected active" data-hint = "<server class = protected/>"></server><server data-hint = "<server/>"></server>',htmlCode:a+s[0]+i+n+r+s[1]+s[0]+i+r+s[1]+l},{nameLevel:"#id",title:"Select the user mobile",selector:"#mobile",levelDescription:["Level 3 of 10","ID Selector","Select elements with an ID","Selects the element with a specific <span>id</span>. You can also combine the ID selector with the type selector.",'#<span>cool</span> selects any element with <span>id="cool"</span>','<span>ul#long</span> selects <span>&lt;ul id="long"&gt;</span>'],tableCode:'<server  data-hint = "<server/>"></server><server class = "protected" data-hint = "<server class = protected/>"><user class = "active" id = "mobile" data-hint = "<user id = mobile/>"/></server><server class="protected" data-hint = "<server class = protected />"><user id = "pc" data-hint ="<user id =pc/>"/></server>',htmlCode:a+s[0]+i+r+s[1]+s[0]+i+n+t[1]+s[0]+o+d+r+s[1]+i+r+s[1]+s[0]+i+n+t[1]+s[0]+o+h+r+s[1]+i+r+s[1]+l},{nameLevel:".classname A",title:"Select the users of protected servers",selector:".protected user",levelDescription:["Level 4 of 10","Descendant Selector","Select an element inside another element","Selects all <span>A</span> inside of <span>.className</span>. B is called a descendant because it is inside of another element.","<span>p  strong</span> selects all <span>strong</span> elements that are inside of any <span>p</span>",'<span>#fancy  span</span> selects any <span>span</span> elements that are inside of the element with <span>id="fancy"</span>'],tableCode:'<server class = "protected" data-hint = "<server class = protected/>"><user class = "active" id = "mobile" data-hint = "<user id = mobile/>"/></server><server class = "hacked"  data-hint = "<server class = hacked/>"><user  id = "hacker" data-hint = "<user id = hacker/>"/></server><server class ="protected"data-hint = "<server class = protected/>"><user class = "active" id = "pc" data-hint ="<user  id =pc/>"/></server>',htmlCode:a+s[0]+i+n+t[1]+s[0]+o+d+r+s[1]+i+r+s[1]+s[0]+i+c+t[1]+s[0]+o+v+r+s[1]+i+r+s[1]+s[0]+i+n+t[1]+s[0]+o+h+r+s[1]+i+r+s[1]+l},{nameLevel:".classname #id",title:"Select the hacker in the hacked server",selector:".hacked #hacker",levelDescription:["Level 5 of 10","Descendant Selector","Select an element inside another element","Selects all <span>#id</span> inside of <span>.className</span>. <span>B</span> is called a descendant because it is inside of another element.","<span>p  strong</span> selects all <span>strong</span> elements that are inside of any <span>p</span>",'<span>#fancy  span</span> selects any <span>span</span> elements that are inside of the element with <span>id="fancy"</span>'],tableCode:'<server class = "protected" data-hint = "<server class = protected/>"><user  id = "mobile" data-hint = "<user id = mobile/>"/></server><server class = "hacked"  data-hint = "<server class = hacked/>"><user class = "active" id = "hacker" data-hint = "<user id = hacker/>"/></server><server class ="protected"data-hint = "<server class = protected/>"><user  id = "pc" data-hint ="<user  id =pc/>"/></server><user  id = "hacker" data-hint = "<user id = hacker/>"/>',htmlCode:a+s[0]+i+n+t[1]+s[0]+o+d+r+s[1]+i+r+s[1]+s[0]+i+c+t[1]+s[0]+o+v+r+s[1]+i+r+s[1]+s[0]+i+n+t[1]+s[0]+o+h+r+s[1]+i+r+s[1]+s[0]+o+d+r+s[1]+l},{nameLevel:"A.classname",title:"Select the protected servers",selector:"server.protected",levelDescription:["Level 6 of 10","Combine the Class Selector","","You can combine the class selector with other selectors, like the type selector.",'<span>ul.important</span> selects all <span>ul</span> elements that have <span>class="important"</span>','<span>#big.wide</span> selects all elements with <span>id="big"</span> that also have <span>class="wide"</span>'],tableCode:'<server class = "hacked"  data-hint = "<server class = hacked/>"><user  id = "hacker" data-hint = "<user id = hacker/>"/></server><server class ="protected active" data-hint = "<server class = protected/>"><user id = "pc" data-hint ="<user  id =pc/>"/></server><server class = "protected active" data-hint = "<server class = protected/>"><user id = "mobile" data-hint = "<user id = mobile/>"/></server>',htmlCode:a+s[0]+i+c+t[1]+s[0]+o+v+r+s[1]+i+r+s[1]+s[0]+i+n+t[1]+s[0]+o+h+r+s[1]+i+r+s[1]+s[0]+i+n+t[1]+s[0]+o+d+r+s[1]+i+r+s[1]+l},{nameLevel:"1Put your back into it!",title:"Select the hacked servers",selector:"server.hacked",levelDescription:["Level 7 of 10","You can do it...","","","Combine what you learned in the last few levels to solve this one!",""],tableCode:'<server class = "hacked active"  data-hint = "<server class = hacked/>"><user  id = "hacker" data-hint = "<user id = hacker/>"/></server><server class ="protected" data-hint = "<server class = protected/>"><user id = "pc" data-hint ="<user  id =pc/>"/></server><server class = "protected" data-hint = "<server class = protected/>"><user id = "mobile" data-hint = "<user id = mobile/>"/></server>',htmlCode:a+s[0]+i+c+t[1]+s[0]+o+v+r+s[1]+i+r+s[1]+s[0]+i+n+t[1]+s[0]+o+h+r+s[1]+i+r+s[1]+s[0]+i+n+t[1]+s[0]+o+d+r+s[1]+i+r+s[1]+l},{nameLevel:"2Put your back into it!",title:"Select the users of the hacked servers",selector:".hacked user",levelDescription:["Level 8 of 10","You can do it...","","","Combine what you learned in the last few levels to solve this one!",""],tableCode:'<server class = "hacked"  data-hint = "<server class = hacked/>"><user class = "active" id = "hacker" data-hint = "<user id = hacker/>"></user><user class = "active" id = "pc" data-hint = "<user id = pc/>"/></server><server class ="protected" data-hint = "<server class = protected/>"><user id = "pc" data-hint ="<user  id =pc/>"/></server><server class = "protected" data-hint = "<server class = protected/>"><user id = "mobile" data-hint = "<user id = mobile/>"/></server>',htmlCode:a+s[0]+i+c+t[1]+s[0]+o+v+r+s[1]+s[0]+o+h+r+s[1]+i+r+s[1]+s[0]+i+n+t[1]+s[0]+o+h+r+s[1]+i+r+s[1]+s[0]+i+n+t[1]+s[0]+o+d+r+s[1]+i+r+s[1]+l},{nameLevel:":last-child",title:"Select a hacker who is not on the server",selector:".earth:last-child",levelDescription:["Level 9 of 10","Last Child Pseudo-selector","Select an element inside another element","You can use this selector to select an element that is the last child element inside of another element.","<span>span:last-child</span> selects all last-child <span>span</span> elements.","<span>ul li:last-child</span> selects the last <span>li</span> elements inside of any <span>ul</span>"],tableCode:'<server class = "protected" data-hint = "<server class = protected/>"><user  id = "mobile" data-hint = "<user id = mobile/>"/></server><server class = "hacked"  data-hint = "<server class = hacked/>"><user  id = "hacker" data-hint = "<user id = hacker/>"/></server><server class ="protected" data-hint = "<server class = protected/>"><user  id = "pc" data-hint ="<user  id =pc/>"/></server><user class = "active" id = "hacker" data-hint = "<user id = hacker/>"/>',htmlCode:a+s[0]+i+n+t[1]+s[0]+o+d+r+s[1]+i+r+s[1]+s[0]+i+c+t[1]+s[0]+o+v+r+s[1]+i+r+s[1]+s[0]+i+n+t[1]+s[0]+o+h+r+s[1]+i+r+s[1]+s[0]+o+v+r+s[1]+l},{nameLevel:":only-child",title:"Select the mobile and the hacker on the servers",selector:"server:only-child",levelDescription:["Level 10 of 10","Only Child Pseudo-selector","Select an element that are the only element inside of another one.","You can select any element that is the only element inside of another one.","<span>span:only-child</span> selects the <span>span</span> elements that are the only child of some other element.","<span>ul li:only-child</span> selects the only <span>li</span> element that are in a <span>ul</span>."],tableCode:'<server class = "protected" data-hint = "<server class = protected/>"><user class = "active"  id = "mobile" data-hint = "<user id = mobile/>"/></server><server class = "hacked"  data-hint = "<server class = hacked/>"><user class = "active" id = "hacker" data-hint ="<user  id =hacker/>"></user></server><server class ="protected"data-hint = "<server class = protected/>"><user  id = "pc" data-hint ="<user  id =pc/>"></user><user  id = "mobile" data-hint = "<user id = mobile/>"/></server><user id = "hacker" data-hint = "<user id = hacker/>"/>',htmlCode:a+s[0]+i+n+t[1]+s[0]+o+d+r+s[1]+i+r+s[1]+s[0]+i+c+t[1]+s[0]+o+v+r+s[1]+i+r+s[1]+s[0]+i+n+t[1]+s[0]+o+h+r+s[1]+s[0]+o+d+r+s[1]+i+r+s[1]+s[0]+o+v+r+s[1]+l}];class m{constructor(){this.titleLevel=document.querySelector(".assignment"),this.codeHtml=document.querySelector(".html__code"),this.earthBoard=document.querySelector(".earth"),this.levelStatus=document.querySelector(".level__status"),this.selectorName=document.querySelector(".selector__name"),this.selectorTitle=document.querySelector(".title"),this.selectorSyntax=document.querySelector(".syntax"),this.selectorDescription=document.querySelector(".description"),this.exampleOne=document.querySelector(".example__one"),this.exampleTwo=document.querySelector(".example__two"),this.indexLevel=0}openLevel(e){this.titleLevel.textContent=p[e].title,this.codeHtml.innerHTML=p[e].htmlCode,this.earthBoard.innerHTML=p[e].tableCode,this.levelStatus.innerHTML=p[e].levelDescription[0],this.selectorName.innerHTML=p[e].levelDescription[1],this.selectorTitle.innerHTML=p[e].levelDescription[2],this.selectorSyntax.innerHTML=p[e].nameLevel,this.selectorDescription.innerHTML=p[e].levelDescription[3],this.exampleOne.innerHTML=p[e].levelDescription[4],this.exampleTwo.innerHTML=p[e].levelDescription[5]}setLevel(e){this.indexLevel=e}getLevel(){return this.indexLevel}}class u extends m{indexLevelSet(e){localStorage.setItem(".level",String(e))}indexLevelGet(){return localStorage.getItem(".level")?localStorage.getItem(".level"):"0"}completeLevelSet(){const e=[...document.querySelectorAll(".level__item")].map((function(e){return e.dataset.completed}));localStorage.setItem(".complete",JSON.stringify(e))}completeLevelGet(){return localStorage.getItem(".complete")?JSON.parse(localStorage.getItem(".complete")):[]}}class L extends m{constructor(){super(),this.cssInput=document.querySelector(".css__input"),this.enterButton=document.querySelector(".enter__button"),this.storage=new u}enterValue(){localStorage.getItem(".level")?void 0!==typeof this.storage.indexLevelGet&&(this.setLevel(Number(this.storage.indexLevelGet())),this.openLevel(Number(this.storage.indexLevelGet()))):(this.openLevel(0),this.storage.indexLevelSet(0)),this.enterButton.addEventListener("click",(()=>{this.loadLevel()})),document.addEventListener("keyup",(e=>{"Enter"===e.key&&this.loadLevel()}))}loadLevel(){const e=document.querySelectorAll(".level__item");if(this.setLevel(Number(this.storage.indexLevelGet())),isNaN(Number(this.cssInput.value)))if(this.cssInput.value===p[this.indexLevel].selector){"2"!==e[this.indexLevel].dataset.completed&&(e[this.indexLevel].classList.add("completed"),e[this.indexLevel].dataset.completed="1"),this.storage.completeLevelSet(),this.earthBoard.querySelectorAll(".active").forEach((e=>{e.classList.add("win"),e.classList.remove("active")}));const t=this.storage.completeLevelGet();!t.includes("2")&&!t.includes("0")&&t.length>0&&alert("YOU WIN!"),setTimeout((()=>{this.indexLevel=this.indexLevel+1,this.indexLevel<10?(this.storage.indexLevelSet(this.indexLevel),this.openLevel(this.indexLevel),this.cssInput.value=""):(this.indexLevel=0,this.storage.indexLevelSet(this.indexLevel),this.openLevel(this.indexLevel),this.cssInput.value="")}),500)}else this.fail();else if(0!==this.cssInput.value.length&&Number(this.cssInput.value)>0&&Number(this.cssInput.value)<10){const t=this.cssInput.value;this.indexLevel=Number(t)-1,this.openLevel(this.indexLevel),this.cssInput.value="",e.forEach((e=>{e.classList.remove("active")})),e[this.indexLevel].classList.add("active"),this.storage.indexLevelSet(this.indexLevel)}else this.fail()}fail(){const e=document.querySelector(".editor");e.classList.add("fail"),setTimeout((()=>{e.classList.remove("fail")}),2e3),this.cssInput.value=""}}class f{constructor(){this.earth=document.querySelector(".earth")}createHint(e,t){const s=document.createElement("div");s.className="hint",s.textContent=e,this.earth.append(s);const a=t.getBoundingClientRect(),l=a.left-this.earth.offsetLeft+t.offsetWidth,i=a.top-this.earth.offsetHeight/4-10;s.style.top=i+"px",s.style.left=l+"px"}removeHint(){document.querySelector(".hint").remove()}}var g;!function(e){e.parentTagClassName="html__code",e.parentElementClassName="earth",e.hoverEffect="hovered",e.shadowEffect="shadow"}(g||(g={}));class b extends m{constructor(){super(),this.hint=new f}hoverTag(){this.codeHtml.addEventListener("mouseover",(e=>{e.target.classList.contains(g.parentTagClassName)||(e.target.classList.add(g.hoverEffect),this.findElement(e.target,this.earthBoard,g.parentTagClassName,g.shadowEffect))})),this.codeHtml.addEventListener("mouseout",(e=>{e.target.classList.contains(g.parentTagClassName)||(e.target.classList.remove(g.hoverEffect),this.findElement(e.target,this.earthBoard,g.parentTagClassName,g.shadowEffect))}))}hoverElement(){this.earthBoard.addEventListener("mouseover",(e=>{e.target.classList.contains(g.parentElementClassName)||(e.target.classList.add(g.shadowEffect),this.hint.createHint(e.target.dataset.hint,e.target),this.findElement(e.target,this.codeHtml,g.parentElementClassName,g.hoverEffect))})),this.earthBoard.addEventListener("mouseout",(e=>{e.target.classList.contains(g.parentElementClassName)||(e.target.classList.remove(g.shadowEffect),this.hint.removeHint(),this.findElement(e.target,this.codeHtml,g.parentElementClassName,g.hoverEffect))}))}findElement(e,t,s,a){let l=e;l=l.parentElement;const i=Array.from(l.children).indexOf(e);if(l.classList.contains(s))this.highlightElement(t,i,a);else{const e=Array.from(l.parentElement.children).indexOf(l);this.highlightElement(t.children[e],i,a)}}highlightElement(e,t,s){void 0!==e.children[t]&&(e.children[t].classList.contains(s)?(e.children[t].classList.contains(g.shadowEffect)&&this.hint.removeHint(),e.children[t].classList.remove(s)):(e.children[t].classList.add(s),e.children[t].classList.contains(g.shadowEffect)&&this.hint.createHint(e.children[t].dataset.hint,e.children[t])))}}class S extends L{constructor(){super(),this.burgerButton=document.querySelector(".level__button"),this.levelList=document.querySelector(".level__list")}createList(){const e=[];p.forEach((t=>{e.push(t.nameLevel)}));const t=document.createElement("ol");this.levelList.append(t),e.forEach((e=>{const s=document.createElement("li");s.classList.add("level__item"),s.dataset.completed="0",s.textContent=e,t.append(s)}));const s=document.querySelectorAll(".level__item");this.setLevel(Number(this.storage.indexLevelGet())),s[this.indexLevel].classList.add("active"),s.forEach((e=>{e.addEventListener("click",(()=>{p.forEach((t=>{e.textContent===t.nameLevel&&(this.openLevel(p.indexOf(t)),this.storage.indexLevelSet(p.indexOf(t)),s.forEach((e=>{e.classList.remove("active")})),e.classList.add("active"),this.burgerButton.classList.remove("active"),this.levelList.classList.remove("open"),this.levelList.classList.add("closed"))}))}))}))}openList(){this.burgerButton.addEventListener("click",(()=>{this.levelList.classList.contains("open")?this.closeList():(this.levelList.classList.add("open"),this.levelList.classList.remove("closed"),this.burgerButton.classList.add("active"))}))}closeList(){this.levelList.classList.remove("open"),this.levelList.classList.add("closed"),this.burgerButton.classList.remove("active")}openNextPrev(){const e=document.querySelector(".level__next"),t=document.querySelector(".level__prev");e.addEventListener("click",(()=>{Number(this.storage.indexLevelGet())<9&&(this.switch(1),this.cssInput.value="")})),t.addEventListener("click",(()=>{Number(this.storage.indexLevelGet())>0&&(this.switch(-1),this.cssInput.value="")}))}switch(e){const t=document.querySelectorAll(".level__item");this.setLevel(Number(this.storage.indexLevelGet())),this.setLevel(this.indexLevel+e),this.openLevel(this.indexLevel),this.storage.indexLevelSet(this.indexLevel),t.forEach((e=>{e.classList.remove("active")})),t[this.indexLevel].classList.add("active")}completeLevels(){window.addEventListener("beforeunload",(()=>{localStorage.getItem(".complete")&&this.storage.completeLevelSet})),window.addEventListener("load",(()=>{const e=document.querySelectorAll(".level__item");this.storage.completeLevelGet().forEach(((t,s)=>{switch(t){case"1":e[s].classList.add("completed"),e[s].dataset.completed="1";break;case"2":e[s].classList.add("helped"),e[s].dataset.completed="2"}}))}))}}class x extends L{constructor(){super(),this.helpButton=document.querySelector(".help__button")}clickButton(){const e=document.querySelectorAll(".level__item");this.helpButton.addEventListener("click",(()=>{let t=0;if(this.setLevel(Number(this.storage.indexLevelGet())),"1"===e[this.indexLevel].dataset.completed&&(e[this.indexLevel].classList.add("helped"),e[this.indexLevel].dataset.completed="2"),0===this.cssInput.value.length){const s=setInterval((()=>{this.helpButton.disabled=!0;const a=p[this.indexLevel].selector;this.cssInput.value+=a.slice(t,t+1),t++,t===a.length&&(clearInterval(s),this.helpButton.disabled=!1,e[this.indexLevel].classList.add("helped"),e[this.indexLevel].dataset.completed="2")}),200)}}))}}class y extends L{constructor(){super(),this.resetButton=document.querySelector(".reset__button"),this.burger=new S}reset(){const e=document.querySelectorAll(".level__item");this.resetButton.addEventListener("click",(()=>{localStorage.removeItem(".complete"),e.forEach((e=>{switch(!0){case e.classList.contains("completed"):e.classList.remove("completed");break;case e.classList.contains("helped"):e.classList.remove("helped");break;case"1"===e.dataset.completed:case"2"===e.dataset.completed:e.dataset.completed="0"}})),this.indexLevel=0,this.storage.indexLevelSet(this.indexLevel),this.openLevel(this.indexLevel),this.burger.closeList()}))}}(new class{constructor(){this.hoverEffect=new b,this.burger=new S,this.game=new L,this.helpButton=new x,this.reset=new y}start(){this.hoverEffect.hoverTag(),this.hoverEffect.hoverElement(),this.burger.createList(),this.burger.openList(),this.burger.openNextPrev(),this.burger.completeLevels(),this.game.enterValue(),this.helpButton.clickButton(),this.reset.reset()}}).start()})();